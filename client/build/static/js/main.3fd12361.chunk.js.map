{"version":3,"sources":["actions/alert.js","actions/types.js","utils/setAuthToken.js","actions/auth.js","components/layout/Navbar.js","components/layout/Landing.js","components/auth/Login.js","components/auth/Register.js","components/layout/Alert.js","components/dashboard/Dashboard.js","components/routing/PrivateRoute.js","components/layout/NotFound.js","components/routing/Routes.js","reducers/alert.js","reducers/auth.js","reducers/index.js","store.js","App.js","index.js"],"names":["setAlert","msg","alertType","timeout","dispatch","id","uuid","v4","type","payload","setTimeout","setAuthToken","token","axios","defaults","headers","common","loadUser","a","localStorage","get","res","data","connect","state","auth","logout","isAuthenticated","loading","authLinks","to","className","onClick","guestLinks","login","email","password","config","body","JSON","stringify","post","errors","response","forEach","error","useState","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","placeholder","required","minLength","register","password2","alerts","alert","length","map","key","profile","user","Component","component","rest","render","props","NotFound","Routes","exact","path","Register","Login","Dashboard","initialState","getItem","combineReducers","action","filter","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","useEffect","Landing","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3fd12361.chunk.js","sourcesContent":["import{ SET_ALERT, REMOVE_ALERT} from './types';\nimport uuid from 'uuid';\n\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch =>{\n    const id = uuid.v4();\n\n    dispatch({\n        type: SET_ALERT,\n        payload:{msg, alertType ,id}\n    });\n\n    setTimeout(()=> dispatch({type: REMOVE_ALERT, payload: id}), timeout);\n};\n","export const SET_ALERT = \"SET_ALERT\";\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\nexport const USER_LOADED = \"USER_LOADED\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\nexport const PROFILE_ERROR = \"PROFILE_ERROR\";\n","import axios from \"axios\";\n\nconst setAuthToken = (token) => {\n  if (token) {\n    axios.defaults.headers.common[\"x-auth-token\"] = token;\n  } else {\n    delete axios.defaults.headers.common[\"x-auth-token\"];\n  }\n};\n\nexport default setAuthToken;\n","import axios from \"axios\";\nimport { setAlert } from \"./alert\";\nimport {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n  CLEAR_PROFILE,\n} from \"./types\";\nimport setAuthToken from \"../utils/setAuthToken\";\n\n//Load user\nexport const loadUser = () => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  try {\n    const res = await axios.get(\"/api/auth\");\n\n    dispatch({\n      type: USER_LOADED,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: AUTH_ERROR,\n    });\n  }\n};\n\n// Register a user\n\nexport const register = ({ name, email, password }) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({ name, email, password });\n\n  try {\n    const res = await axios.post(\"/api/users\", body, config);\n\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.data,\n    });\n    dispatch(loadUser());\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    }\n\n    dispatch({\n      type: REGISTER_FAIL,\n    });\n  }\n};\n\n// Login a user\n\nexport const login = (email, password) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({ email, password });\n\n  try {\n    const res = await axios.post(\"/api/auth\", body, config);\n\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data,\n    });\n    dispatch(loadUser());\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    }\n    dispatch({\n      type: LOGIN_FAIL,\n    });\n  }\n};\n\n// LOGOUT / Clear Profile\n\nexport const logout = () => (dispatch) => {\n  dispatch({ type: LOGOUT });\n};\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { logout } from \"../../actions/auth\";\n\nconst Navbar = ({ auth: { isAuthenticated, loading }, logout }) => {\n  const authLinks = (\n    <ul>\n      <li>\n        <Link to=\"/dashboard\">\n          <i className=\"fas fa-user\"></i>{\" \"}\n          <span className=\"hide-sm\">Dashboard</span>\n        </Link>\n      </li>\n\n      <li>\n        <Link onClick={logout} to=\"/\">\n          <i className=\"fas fa-sign-out-alt\"></i>{\" \"}\n          <span className=\"hide-sm\">Logout</span>\n        </Link>\n      </li>\n    </ul>\n  );\n\n  const guestLinks = (\n    <ul>\n      <li>\n        <Link to=\"/register\">\n          <i className=\"fas fa-user-plus\"></i>\n          <span className=\"hide-sm\"> Register</span>\n        </Link>\n      </li>\n      <li>\n        <Link to=\"/login\">\n          <i className=\"fas fa-sign-in-alt\"></i>\n          <span className=\"hide-sm\"> Login</span>\n        </Link>\n      </li>\n    </ul>\n  );\n  return (\n    <nav className=\"navbar bg-dark\">\n      <h1>\n        <Link to=\"/\">\n          <i className=\"fas fa-coins\"></i>&nbsp;Cloud Auth\n        </Link>\n      </h1>\n      {!loading && (\n        <Fragment>{isAuthenticated ? authLinks : guestLinks}</Fragment>\n      )}\n    </nav>\n  );\n};\n\nNavbar.propTypes = {\n  logout: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n};\n\nconst mspStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mspStateToProps, { logout })(Navbar);\n","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst Landing = ({ isAuthenticated }) => {\n  if (isAuthenticated) {\n    return <Redirect to=\"/dashboard\" />;\n  }\n\n  return (\n    <section className=\"landing\">\n      <div className=\"dark-overlay\">\n        <div className=\"landing-inner\">\n          <h1 className=\"x-large\">Cloud Auth</h1>\n          <p className=\"lead\">\n            A simple registration and authentication app template deployed on\n            AWS BeanStalk\n          </p>\n          <div className=\"buttons\">\n            <Link to=\"/register\" className=\"btn btn-primary\">\n              Sign Up\n            </Link>\n            <Link to=\"/login\" className=\"btn btn-light\">\n              Login\n            </Link>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nLanding.propTypes = {\n  isAuthenticated: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps)(Landing);\n","import React, { Fragment, useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n//import axios from 'axios'\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../actions/auth\";\n\nconst Login = ({ login, isAuthenticated }) => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    login(email, password);\n  };\n\n  //Redirect if loggedin\n\n  if (isAuthenticated) {\n    return <Redirect to=\"/dashboard\" />;\n  }\n\n  return (\n    <Fragment>\n      <center>\n        <h1 className=\"large text-primary\">Sign In</h1>\n      </center>\n      <center>\n        <p className=\"lead\">\n          <i className=\"fas fa-user\"></i> Sign Into Your Cloud Account\n        </p>\n      </center>\n      <form className=\"form\" onSubmit={(e) => onSubmit(e)}>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            name=\"email\"\n            value={email}\n            onChange={(e) => onChange(e)}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            value={password}\n            onChange={(e) => onChange(e)}\n            minLength=\"6\"\n          />\n        </div>\n\n        <center>\n          <input type=\"submit\" className=\"btn btn-primary\" value=\"Login\" />\n        </center>\n      </form>\n      <center>\n        <p className=\"my-1\">\n          Don't have an account? <Link to=\"/register\">Sign Up</Link>\n        </p>\n      </center>\n    </Fragment>\n  );\n};\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, { login })(Login);\n","import React, { Fragment, useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setAlert } from \"../../actions/alert\";\nimport { register } from \"../../actions/auth\";\nimport PropTypes from \"prop-types\";\n\n//import axios from 'axios'\n\nconst Register = ({ setAlert, register, isAuthenticated }) => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n\n  const { name, email, password, password2 } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (password !== password2) {\n      setAlert(\"Passwords don't match!\", \"danger\", 5000);\n    } else {\n      register({ name, email, password });\n\n      /*const newUser ={\n                name,\n                email,\n                password\n            }\n\n            try{\n                const config ={\n                    headers:{\n                        'Content-type':'application/json'\n                    }\n                }\n                const body = JSON.stringify(newUser);\n\n                const res = await axios.post('/api/users', body, config);\n                console.log(res.data);\n\n            }catch(err){\n                console.error(err.response.data)\n            }*/\n    }\n  };\n\n  if (isAuthenticated) {\n    return <Redirect to=\"/dashboard\" />;\n  }\n\n  return (\n    <Fragment>\n      <center>\n        <h1 className=\"large text-primary\">Sign Up</h1>\n      </center>\n      <center>\n        <p className=\"lead\">\n          <i className=\"fas fa-user\"></i> Create Your Cloud Account\n        </p>\n      </center>\n      <form className=\"form\" onSubmit={(e) => onSubmit(e)}>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            placeholder=\"Name\"\n            name=\"name\"\n            value={name}\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            name=\"email\"\n            value={email}\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            value={password}\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            name=\"password2\"\n            value={password2}\n            onChange={(e) => onChange(e)}\n          />\n        </div>\n\n        <center>\n          <input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\n        </center>\n      </form>\n      <center>\n        `\n        <p className=\"my-1\">\n          Already have an account? <Link to=\"/login\">Sign In</Link>\n        </p>\n        `\n      </center>\n    </Fragment>\n  );\n};\n\nRegister.propTypes = {\n  setAlert: PropTypes.func.isRequired,\n  register: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, { setAlert, register })(Register);\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux';\n\nconst Alert = ({alerts}) => alerts !== null && alerts.length>0 && alerts.map(alert =>(\n    <div key={alert.id} className={`alert alert-${alert.alertType}`}>\n        {alert.msg}\n    </div>\n));\n\nAlert.propTypes = {\n    alerts: PropTypes.array.isRequired\n}\n\nconst mapStateToProps = state =>({\n    alerts: state.alert\n});\n\nexport default connect(mapStateToProps)(Alert);\n","import React, { useEffect, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nconst Dashboard = ({ auth: { user } }) => (\n  <Fragment>\n    <center>\n      <h1 className=\"large text-primary\"> Dashboard</h1>\n      <br />\n      <p className=\"lead\">\n        <i className=\"fas fa-user\"></i>\n        <b>&nbsp;{user && user.name}</b>!\n      </p>\n\n      <Fragment>LOGGIN SUCCESSFUL</Fragment>\n    </center>\n  </Fragment>\n);\n\nDashboard.propTypes = {\n  auth: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  profile: state.profile,\n});\n\nexport default connect(mapStateToProps, null)(Dashboard);\n","import React from 'react';\nimport { Route , Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component,auth:{ isAuthenticated, loading}, ...rest}) => (\n    <Route {...rest} render={props => !isAuthenticated && !loading ? (<Redirect to ='/login' />) : (<Component {...props}/>)} />\n)\n\n\nPrivateRoute.propTypes = {\n    auth: PropTypes.object.isRequired\n\n}\n\nconst mapStateToProps = state =>({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute)\n","import React,{Fragment} from 'react'\n\nexport const NotFound = () => {\n    return (\n       <Fragment>\n           <center>\n           <h1 className=\"x-large text-primary\"> <i className=\"fas fa-exclamation-triangle\"> Page Not Found</i>\n           </h1>\n           <p className=\"large\"> Sorry, this page does not exist!</p>\n           </center>\n       </Fragment>\n    )\n}\n\nexport default NotFound","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Login from \"../auth/Login\";\nimport Register from \"../auth/Register\";\nimport Alert from \"../layout/Alert\";\nimport Dashboard from \"../dashboard/Dashboard\";\nimport PrivateRoute from \"../routing/PrivateRoute\";\n\nimport NotFound from \"../layout/NotFound\";\n\nexport const Routes = () => {\n  return (\n    <section className=\"container\">\n      <Alert />\n      <Switch>\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/login\" component={Login} />\n        <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n        <Route component={NotFound} />\n      </Switch>\n    </section>\n  );\n};\n\nexport default Routes;\n","import {SET_ALERT, REMOVE_ALERT} from '../actions/types';\n\nconst initialState =[];\n\n\nexport default function(state = initialState, action){\n\n    const {type, payload} =action;\n    switch(type){\n\n        case SET_ALERT:\n            return [...state, payload];\n        case REMOVE_ALERT:\n            return state.filter(alert=>alert.id !== payload);\n        default:\n            return state;\n    }\n}","import {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n} from \"../actions/types\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n};\n\nexport default function (state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload,\n      };\n\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false,\n      };\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport alert from \"./alert\";\nimport auth from \"./auth\";\n\nexport default combineReducers({\n  alert,\n  auth,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'; \n\nconst initialState ={};\n\nconst middleware =[thunk];\n\nconst store = createStore(rootReducer, initialState, composeWithDevTools(applyMiddleware(...middleware)));\n\nexport default store;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport React, {Fragment, useEffect} from 'react';\nimport './App.css';\nimport Navbar from './components/layout/Navbar';\nimport Landing from './components/layout/Landing';\nimport Routes from './components/routing/Routes';\n\n//Redux\nimport {Provider} from 'react-redux';\nimport store from './store';\nimport {loadUser} from './actions/auth';\nimport setAuthToken from './utils/setAuthToken'\n\nif(localStorage.token){\n  setAuthToken(localStorage.token);\n}\n\nconst App = () => { \n  //should run only once thats why [] at the end\n  useEffect(()=>{\n    store.dispatch(loadUser());\n  }, []);\n\n  return(\n  <Provider store ={store}>\n    <Router>\n      <Fragment>\n          <Navbar />\n          <Switch>\n          <Route exact path =\"/\" component={Landing}/>\n          <Route component={Routes} />\n          </Switch>\n      </Fragment> \n    </Router>\n  </Provider>\n  )};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}